專題名稱：基於yolo的水稻葉病害識別與分析
 組員：資工四B 411147649 林泳存、資工四B 411147665 蘇建豪、資工四B 411147403 許秉豐、資工四B 411147186 蔡尚廷
 指導老師姓名：謝孟諺
 會議記錄：會議記錄(一).docx、會議記錄(二).docx
 畢業專題計畫書：專題計劃書-基於深度學習的水稻葉病害識別與分析.doc
 成果報告書：基於yolo的水稻葉病害識別與分析 .pdf
 程式：Riceleaf Web.zip、rice leaf diseases dataset.zip
 簡報：基於yolo的水稻葉病害識別與分析_簡報.pdf
 海報:基於yolo的水稻葉病害識別與分析_海報.png
 介紹影片：https://youtu.be/XrspNUSdePY?si=B3Cbbc9-cm-Z40uI

------------------------------------------------------------
# Rice Leaf Diseases — YOLO11 

簡介
-----
本專案整合了 Ultralytics YOLO11 範例、模型與訓練程式，針對稻米葉片病害資料集提供訓練與推論範例。主要內容包括預訓練權重、訓練腳本、範例與文件。

主要檔案與資源
----------------
- 訓練腳本： [yolo11_train/train.py](yolo11_train/train.py)  
- 預訓練模型： [yolo11l.pt](yolo11l.pt), [yolo11n.pt](yolo11n.pt)  
- 訓練輸出： [runs/](runs/)（包含實驗結果與檢視）  
- Ultralytics 原始碼與範例： [ultralytics/README.md](ultralytics/README.md)、[ultralytics/examples/README.md](ultralytics/examples/README.md)  
- 文件站點與範例文件： [ultralytics/docs/README.md](ultralytics/docs/README.md)  
- 基準與匯出工具： 可參考 [`benchmark`](ultralytics/ultralytics/utils/benchmarks.py) (實作位於 [ultralytics/ultralytics/utils/benchmarks.py](ultralytics/ultralytics/utils/benchmarks.py))  
- 專案貢獻與授權： [ultralytics/CONTRIBUTING.md](ultralytics/CONTRIBUTING.md)、[ultralytics/LICENSE](ultralytics/LICENSE)

快速開始
--------
**YOLO是在PYcharm環境有可能跟vscode會有衝突**
1. 安裝套件（使用本地 ultralytics 原始碼）
```bash
pip install -e ./ultralytics
2. runs--執行後的結果
3. yolo11_train
   |--tools
      |--1.轉換程式.py:轉成seg格式
      |--2.split.py:分割驗證資料集
      |--3.force_fix_blast_train.py:曾經blast資料跑掉過修復用，不必執行
      |--4.detect-only 行自動轉成四邊形 polygon.py:有些是Bounding Box格式需要重標轉成seg格式
      |--5.count_labels.py:計算lables數量，確保每個資料都有被訓練
      |--6.audit_fix_seg_labels.py:檢測是否為seg的格式，沒的話就刪掉
   |--train
      |--images:訓練資料集
      |--labels:訓練標記
      |--labels_empty:6檢測完的資料會過來
   |--val(經由2過來的資料)
      |--images:驗證資料集
      |--labels:驗證標記
      |--labels_empty:6檢測完的資料會過來
   |--train(主程式)
   |--data.yaml:主程式會讀取這檔案位置(name可以改分類)


# 水稻葉病害偵測網頁安裝說明

# 系統需求
----------
作業系統：Windows 10 / 11（64-bit）
Python：3.10
conda:25.5.1(anaconda)

# 主要套件版本
-------------
Django 5.2
ultralytics 8.3.206

# 安裝步驟
----------
1. 安裝 Conda（Anaconda）。
2. 下載本專題程式碼(Riceleaf Web.zip)，並解壓縮後確認 `environment.yml` 與程式在同一個資料夾。
3. 在此資料夾開啟終端機 / PowerShell，使用cd進入該資料夾，建立環境：
   conda env create -f environment.yml
   執行後會建立一個名為Riceleaf的一個環境(若想更改可在 `environment.yml`中第一行name處更該環境名後再安裝)
4.修改必要路徑
-------------
*Riceleaf Web\run_crawler.bat中的第20行:
set "PY=自己的python路徑"
-------------------------
*Riceleaf Web\myapp\views.py中的第39行:
api_key = '自己的天氣api key'(https://openweathermap.org/api中註冊申請)
5.啟動環境:
conda activate 專案環境名稱(預設為Riceleaf)
6.啟動系統:
python manage.py runserver
7.手動更新爬蟲:
cd 專案根目錄(run_crawler.bat所在的資料夾)
你的python位置 manage.py rice_crawler --pages 2
